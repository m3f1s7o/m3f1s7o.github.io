<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" hreflang="en" /><updated>2023-06-18T17:51:44+00:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">M3f1s7o Blog</title><subtitle>Pentesting y Linux</subtitle><author><name>Jimmy Mendoza</name></author><entry><title type="html">Prize Draw</title><link href="http://localhost:4000/prize-draw/" rel="alternate" type="text/html" title="Prize Draw" /><published>2023-06-17T00:00:00+00:00</published><updated>2023-06-17T00:00:00+00:00</updated><id>http://localhost:4000/prize-draw</id><content type="html" xml:base="http://localhost:4000/prize-draw/"><![CDATA[<h1 id="prize-draw">Prize Draw</h1>

<p><a href="https://www.codewars.com/kata/5616868c81a0f281e500005c">Enlace al kata</a></p>

<blockquote>
  <p>En este problema se nos pide encontrar el nombre ganador de un sorteo, como datos de entrada tenemos una lista de nombres, una lista de <em>pesos</em> y una posición que será el nombre seleccionado. Para cada nombre tendremos que sumar el valor de todas sus letras, sumar la longitud del nombre y por último multiplicar por el peso que le corresponde de la lista, el resultado es un número ganador para cada nombre. Con todos los números ganadores obtenidos tendremos que ordenarlos de mayor a menor (si hay dos números ganadores iguales se ordenará además alfabéticamente). Por último, devolveremos al nombre en la posición solicitada.</p>
</blockquote>

<h2 id="instrucciones">Instrucciones</h2>

<p><em>Instrucciones traducidas</em></p>

<p>Para participar en un sorteo cada quien da su nombre.</p>

<p>Cada letra del nombre tiene un valor el cual es su posición en el alfabeto inglés. <code class="language-plaintext highlighter-rouge">A</code> y <code class="language-plaintext highlighter-rouge">a</code> tienen una posición <code class="language-plaintext highlighter-rouge">1</code>, <code class="language-plaintext highlighter-rouge">B</code> y <code class="language-plaintext highlighter-rouge">b</code> posición <code class="language-plaintext highlighter-rouge">2</code> y así.</p>

<p>La <em>longitud</em> del nombre se suma a la <em>suma</em> de esas posiciones, de ahí un número <code class="language-plaintext highlighter-rouge">som</code>.</p>

<p>Un array de pesos aleatorios está ligado a los nombres y cada <code class="language-plaintext highlighter-rouge">som</code> es multiplicado por su correspondiente peso para obtener lo que llaman un <code class="language-plaintext highlighter-rouge">número ganador</code>.</p>

<h3 id="ejemplo">Ejemplo</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>names: "COLIN,AMANDBA,AMANDAB,CAROL,PauL,JOSEPH"
weights: [1, 4, 4, 5, 2, 1]

PauL -&gt; som = longitud del nombre + 16 + 1 + 21 + 12 = 4 + 50 -&gt; 54
El *peso* asociado con PauL es 2 así que el *número ganador* de PauL es  54 * 2 = 108.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ahora se pueden ordenar los nombres en el orden <em>decreciente</em> de los <code class="language-plaintext highlighter-rouge">números ganadores</code>. Cuando dos personas tienen el mismo <code class="language-plaintext highlighter-rouge">número ganador</code> ordénalos <em>alfabéticamente</em> por sus nombres.</p>

<h3 id="tareas">Tareas</h3>

<ul>
  <li>parametros: <code class="language-plaintext highlighter-rouge">st</code> una cadena de nombres, <code class="language-plaintext highlighter-rouge">we</code> un array de pesos, <code class="language-plaintext highlighter-rouge">n</code> una posición</li>
  <li>regresar: el nombre del participante con la posición <code class="language-plaintext highlighter-rouge">n</code> (posiciones son numeradas a partir de 1)</li>
</ul>

<h3 id="ejemplo-1">Ejemplo</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>names: "COLIN,AMANDBA,AMANDAB,CAROL,PauL,JOSEPH"
weights: [1, 4, 4, 5, 2, 1]
n: 4

La función debe regresar: "PauL"
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="notas">Notas</h3>

<ul>
  <li>El array de pesos es por lo menos tan largo como la cantidad de nombres, puede ser más largo.</li>
  <li>Si <code class="language-plaintext highlighter-rouge">st</code> está vacía, regresa “No participants”.</li>
  <li>Si <code class="language-plaintext highlighter-rouge">n</code> es más grande que el número de participantes, entonces regresa “Not enough participants”.</li>
</ul>

<hr />
<h2 id="mi-solución">Mi solución</h2>

<h3 id="algoritmo">Algoritmo</h3>

<p><img src="/assets/images/posts/prize_draw_algorithm.png" alt="algoritmo" /></p>

<h3 id="código">Código</h3>

<p><em>Código con comentarios en español</em></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="c"># valida los datos de entrada</span>
validate <span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="nv">$1</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"No participants"</span>
    
  <span class="k">elif</span> <span class="o">[[</span> <span class="si">$(</span><span class="nb">echo</span> <span class="nv">$1</span> | <span class="nb">tr</span> <span class="s2">","</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> | <span class="nb">wc</span> <span class="nt">-l</span><span class="si">)</span> <span class="nt">-lt</span> <span class="nv">$3</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Not enough participants"</span>
  
  <span class="k">else
    </span>rank <span class="nv">$1</span> <span class="nv">$2</span> <span class="nv">$3</span>
    
  <span class="k">fi</span>
   
<span class="o">}</span>

<span class="c"># procesa y ordena los nombres</span>
rank <span class="o">()</span> <span class="o">{</span>
  <span class="c"># pasa a minúsculas los nombres</span>
  <span class="nv">list</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">,,</span><span class="k">}</span><span class="s2">"</span>

  <span class="c"># separa nombres y pesos</span>
  <span class="nv">IFS</span><span class="o">=</span><span class="s2">","</span> <span class="nb">read</span> <span class="nt">-ra</span> names <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$list</span><span class="s2">"</span> 
  <span class="nv">IFS</span><span class="o">=</span><span class="s2">","</span> <span class="nb">read</span> <span class="nt">-ra</span> wghts <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span> 

  <span class="c"># obtiene cada nombre</span>
  <span class="k">for </span>i <span class="k">in</span> <span class="si">$(</span><span class="nb">seq </span>0 <span class="k">$((</span> <span class="k">${#</span><span class="nv">names</span><span class="p">[@]</span><span class="k">}</span> <span class="o">-</span><span class="m">1</span> <span class="k">))</span><span class="si">)</span><span class="p">;</span> <span class="k">do
    </span><span class="nv">name</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">names</span><span class="p">[i]</span><span class="k">}</span><span class="s2">"</span>
    <span class="nv">total</span><span class="o">=</span>0

	<span class="c"># obtiene cada letra y su valor</span>
    <span class="k">for </span>j <span class="k">in</span> <span class="si">$(</span><span class="nb">seq </span>0 <span class="k">$((</span> <span class="k">${#</span><span class="nv">name</span><span class="k">}</span> <span class="o">-</span><span class="m">1</span> <span class="k">))</span><span class="si">)</span><span class="p">;</span> <span class="k">do</span>
      <span class="c">#total=$((total + $(echo $abc | cut -d "${name:j:1}" -f 1 | wc -c)))  # calcula el total en una línea, pero se mantuvo dando Execution Timed Out</span>
      
      <span class="nb">local </span><span class="nv">value</span><span class="o">=</span><span class="si">$(</span>charValue <span class="k">${</span><span class="nv">name</span>:j:1<span class="k">}</span><span class="si">)</span>
      <span class="nv">total</span><span class="o">=</span><span class="k">$((</span>total <span class="o">+</span> value<span class="k">))</span>
      
    <span class="k">done</span>

	<span class="c"># calcula los números ganadores ((total + len) * weight)</span>
    <span class="nv">w_num</span><span class="o">=</span><span class="k">$((</span> <span class="k">$((</span>total <span class="o">+</span> <span class="k">${#</span><span class="nv">name</span><span class="k">}))</span> <span class="o">*</span> <span class="k">${</span><span class="nv">wghts</span><span class="p">[i]</span><span class="k">}</span> <span class="k">))</span>

	<span class="c"># cadena de nombres y números ganadores</span>
    nms_wnum+<span class="o">=</span><span class="s2">"</span><span class="nv">$name</span><span class="s2"> </span><span class="nv">$w_num</span><span class="s2">,"</span>
    
  <span class="k">done</span>          

  <span class="c"># ordena primero por el número ganador y luego por nombre</span>
  <span class="nv">sorted</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="nv">$nms_wnum</span> | <span class="nb">tr</span> <span class="s2">","</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2,2nr <span class="nt">-k</span> 1,1 | <span class="nb">tr</span> <span class="s2">" "</span> <span class="s2">":"</span><span class="si">)</span>

  <span class="c"># obtiene el nombre de la posición deseada</span>
  <span class="nv">name</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="nv">$sorted</span> | <span class="nb">tr</span> <span class="s2">" "</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> | <span class="nb">nl</span> <span class="nt">-s</span><span class="s2">" "</span> <span class="nt">-w1</span> | <span class="nb">grep</span> <span class="nt">-w</span> <span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span> | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s2">":"</span> <span class="nt">-f</span> 1 | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s2">" "</span> <span class="nt">-f</span> 2<span class="si">)</span>
  <span class="c"># devuelve el nombre con la primer letra en mayúscula</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">name</span><span class="p">^</span><span class="k">}</span>
    
<span class="o">}</span>

<span class="c"># obtiene los valores indivuduales de las letras</span>
charValue <span class="o">()</span> <span class="o">{</span>
  <span class="nv">abc</span><span class="o">=</span><span class="s2">"abcdefghijklmnopqrstuvwxyz"</span>

  <span class="c"># corta la cadena abc con el argumento dado</span>
  <span class="nv">IFS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="nb">read</span> <span class="nt">-ra</span> tmp <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$abc</span><span class="s2">"</span>

  <span class="c"># obtiene la longitud de la variable tmp</span>
  <span class="nb">local </span><span class="nv">value</span><span class="o">=</span><span class="k">$((</span> <span class="k">${#</span><span class="nv">tmp</span><span class="k">}</span> <span class="o">+</span><span class="m">1</span> <span class="k">))</span>
  <span class="nb">echo</span> <span class="nv">$value</span>
  
<span class="o">}</span>

validate <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span>
</pre></td></tr></tbody></table></code></pre></div></div>]]></content><author><name>Jimmy Mendoza</name></author><category term="programacion" /><category term="bash" /><category term="codewars" /><category term="6kyu" /><summary type="html"><![CDATA[Reto de programación en bash para operar con cadenas y ordenarlas.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">La red más simple</title><link href="http://localhost:4000/la-red-mas-simple/" rel="alternate" type="text/html" title="La red más simple" /><published>2023-05-07T00:00:00+00:00</published><updated>2023-05-07T00:00:00+00:00</updated><id>http://localhost:4000/la-red-mas-simple</id><content type="html" xml:base="http://localhost:4000/la-red-mas-simple/"><![CDATA[<h1 id="la-red-más-simple">La red más simple</h1>

<h2 id="red">Red</h2>
<blockquote>
  <p>Una red es un conjunto de computadoras que están conectadas en un medio común y comparten información entre sí.</p>
</blockquote>

<p>La red más grande que existe es internet, es una red a la que se conectan millones de dispositivos y que te permite ver esta página web. Pero dejando de lado internet, también utilizas otras redes más pequeñas en tu día a día, por ejemplo, cuando conectas tu smarthpone a una bocina o audifonos bluetooth, estás conectándote a la red de ese dispositivo y por lo tanto puedes intercabiar información con él.</p>

<p>Existen distintos tipos y topologías de redes, pero en este post vamos a ver la red más simple utilizando el simulador Cisco Packet Tracer.</p>

<h2 id="construcción">Construcción</h2>

<h3 id="agregar-los-equipos">Agregar los equipos</h3>
<p>Para esta red vamos a agregar 2 <code class="language-plaintext highlighter-rouge">PCs</code> o <code class="language-plaintext highlighter-rouge">laptops</code> al espacio lógico.</p>

<p><img src="/assets/images/posts/red01.png" alt="Agregar equipos" /></p>

<h3 id="conexión">Conexión</h3>
<p>Ahora conectaremos estos dos equipos utilizando el <code class="language-plaintext highlighter-rouge">Cable de cable cruzado</code> desde el puerto <code class="language-plaintext highlighter-rouge">FastEthernet0</code> al mismo del otro equipo.</p>

<p><img src="/assets/images/posts/red02.png" alt="Conectar equipos" /></p>

<p>Ya tenemos una red, sin embargo si probamos hacer envíar una <code class="language-plaintext highlighter-rouge">PDU simple</code> de un equipo al otro, vamos diciendo que <em>no hay puertos funcionales para el dispositivo</em>. Esto pasa porque necesitamos agregar una dirección <code class="language-plaintext highlighter-rouge">IP</code> a cada equipo, de esa manera los dispositivos <em>tendran una identificación</em> y el otro podrá comunicarse con él.</p>

<h3 id="agregar-dirección-ip">Agregar dirección IP</h3>
<p>Para agregar una dirección IP vamos a ingresar a la <code class="language-plaintext highlighter-rouge">configuración de IP</code> como se muestra en la imagen:</p>

<p><img src="/assets/images/posts/red03.png" alt="Agregar IPs" /></p>

<p>En la ventana que se nos abre vamos a llenar los siguientes campos:</p>
<ul>
  <li>IPv4 Address: <code class="language-plaintext highlighter-rouge">192.168.0.1</code></li>
  <li>Subnet Mask: <code class="language-plaintext highlighter-rouge">255.255.255.0</code></li>
</ul>

<p><img src="/assets/images/posts/red04.png" alt="Agregar IPs" /></p>

<p>Y cerramos la ventana. Ahora podemos <strong>posar</strong> el cursor sobre la PC y veremos que ya tiene una dirección IP asignada.</p>

<p><img src="/assets/images/posts/red05.png" alt="Verifica IPs" /></p>

<p>Ahora vamos a repetir el proceso con la laptop utilizando ahora la dirección IP <code class="language-plaintext highlighter-rouge">192.168.0.2</code> con la misma máscara de subred.</p>

<p><img src="/assets/images/posts/red06.png" alt="Segunda IP" /></p>

<p>Por último pondré en notas (presionando la tecla <code class="language-plaintext highlighter-rouge">N</code>) la dirección de los equipos.</p>

<p><img src="/assets/images/posts/red07.png" alt="Etiquetas" /></p>]]></content><author><name>Jimmy Mendoza</name></author><category term="redes" /><category term="packettracer" /><summary type="html"><![CDATA[Red de dos computadoras simulada en Cisco Packet Tracer.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Mr. Robot</title><link href="http://localhost:4000/mr-robot/" rel="alternate" type="text/html" title="Mr. Robot" /><published>2023-05-05T00:00:00+00:00</published><updated>2023-05-05T00:00:00+00:00</updated><id>http://localhost:4000/mr-robot</id><content type="html" xml:base="http://localhost:4000/mr-robot/"><![CDATA[<h1 id="mr-robot">Mr. Robot</h1>
<blockquote>
  <p>Mr. Robot es drama centrado en Elliot, un hacker que trabaja en una monótona empresa de ciberseguridad. Sin embargo, todo cambia cuando es reclutado por un grupo de hackers que tienen como meta un objetivo simple: cambiar el sistema que gobierna al mundo.</p>
</blockquote>

<p><img src="/assets/images/posts/mr_robot.png" alt="mr. robot" /></p>

<h2 id="por-qué-te-hablo-de-mr-robot">¿Por qué te hablo de Mr. Robot?</h2>
<p>La serie está <strong>inspirada en técnicas reales de hacking</strong>, no todo lo mostrado es cien por ciento apegado a la realidad, pero es una de las mejores representaciones de hacking en series y películas que conozco.
Por lo que, si estás empezando en el mundo de la ciberseguridad es una buena forma de tener un acercamiento al mundillo del hacking.</p>

<p>Y aún si ya tienes experiencia en el área, si buscas una serie que te mantenga pegado al asiento y que te haga querer cambiar el sistema, Mr. Robot es lo mejor que te puedo recomendar. Además, ¿por qué no ver una de las series que tiene algunos de los <strong><a href="https://www.imdb.com/title/tt8084176/">capítulos mejores puntuados en IMDB</a></strong>?.</p>

<h2 id="cómo-ver-la-serie">¿Cómo ver la serie?</h2>
<p>Dos pasos:</p>
<ol>
  <li>Ve un capítulo</li>
  <li>Consulta el post del capítulo <a href="../categories/mr-robot/">aquí</a></li>
</ol>

<p>Tan simple como eso. Y es que como te comenté arriba, muchas de las escenas en el show tienen bases reales, por lo que <strong>probablemente escucharás términos de redes, hacking y sistemas de las que jamás hayas escuchado antes</strong> (no te preocupes, a mí también me pasó la primera vez que lo vi). Por eso he estado haciendo resúmenes y explicaciones de cada uno de los episodios de la serie, donde repaso las escenas importantes para que no te sientas perdido. Además es una buena forma de seguir aprendiendo.</p>

<p>En cada post doy un resumen no tan exhaustivo, pero dejo enlaces en cada tema a vídeos, artículos u otros posts para que si te interesa, profundices más en el tema.</p>]]></content><author><name>Jimmy Mendoza</name></author><category term="mr_robot" /><category term="series" /><category term="noob" /><summary type="html"><![CDATA[Mr. Robot, la mejor serie para empezar a aprender sobre hacking]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Pickle Rick</title><link href="http://localhost:4000/pickle-rick/" rel="alternate" type="text/html" title="Pickle Rick" /><published>2023-04-16T00:00:00+00:00</published><updated>2023-04-16T00:00:00+00:00</updated><id>http://localhost:4000/pickle-rick</id><content type="html" xml:base="http://localhost:4000/pickle-rick/"><![CDATA[<h1 id="pickle-rick">Pickle Rick</h1>
<p>Enlace: https://tryhackme.com/room/picklerick</p>

<p>Instrucciones:
Este reto con tema de Rick y Morty requiere que explotes un <strong>servidor web</strong> para encontrar 3 ingredientes que ayudarán a Rick a hacer su poción para transformarse de nuevo en humano de su forma de pepinillo.</p>

<p>Una vez que nos hayamos conectado a través de VPN a la máquina empezaremos con la fase de reconocimiento.</p>

<hr />
<h2 id="reconocimiento">Reconocimiento</h2>

<h3 id="nmap">nmap</h3>
<p>Lo primero que haremos es ejecutar nmap para descubrir los puertos del sistema objetivo:</p>

<div class="language-shell-session highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nmap <span class="nt">-n</span> <span class="nt">-Pn</span> &lt;ip&gt; 
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/assets/images/maquinas/nmap.png" alt="nmap" /></p>

<p>Vemos que hay dos puertos abiertos, empezaremos por revisar el <strong>servidor web del puerto 80</strong> (<em>las instrucciones nos mencionaban un servidor web</em>).</p>

<h3 id="servidor-web">Servidor web</h3>
<p><img src="/assets/images/maquinas/web_server.png" alt="Servidor" /></p>

<p>La página principal nos da a entender que habrá un <code class="language-plaintext highlighter-rouge">login</code>, pero al parecer tendremos que encontrar las credenciales por nuestra cuenta.</p>

<p>Ver este servidor web me dio ganas de utilizar <code class="language-plaintext highlighter-rouge">gobuster</code>.</p>

<h3 id="gobuster">gobuster</h3>
<p>Vamos a enumerar los directorios web de este servidor con la <code class="language-plaintext highlighter-rouge">wordlist</code> <code class="language-plaintext highlighter-rouge">/dirb/common.txt</code>, quizá nos encontremos algo interesante.</p>

<div class="language-shell-session highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gobuster <span class="nb">dir</span> <span class="nt">-w</span> /usr/share/wordlists/dirb/common.txt <span class="nt">-u</span> http://&lt;ip&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/assets/images/maquinas/gobuster.png" alt="gobuster" /></p>

<p>Los páginas disponibles (<code class="language-plaintext highlighter-rouge">status: 200</code>) son:</p>
<ul>
  <li>index.html</li>
  <li>robots.txt</li>
  <li>login.php</li>
</ul>

<p>Efectivamente hay un login, pero aún necesitamos un usuario y contraseña, tal vez el contenido de <code class="language-plaintext highlighter-rouge">robots.txt</code> sea una de las dos:</p>

<p><img src="/assets/images/maquinas/robots.png" alt="robots.txt" /></p>

<p>No nos quedan más páginas para analizar, pero tal vez revisando el <strong>código fuente</strong> nos sea útil, veamos el de <code class="language-plaintext highlighter-rouge">login.php</code>:</p>

<p><img src="/assets/images/maquinas/login_source.png" alt="login.php" /></p>

<p>Podemos ver que Rick utilizó un comentario para guardar su usuario, por lo tanto, el texto que encontramos en <code class="language-plaintext highlighter-rouge">robots.txt</code> puede que sea nuestra contraseña, intentemos con eso.</p>

<hr />
<h2 id="ataque">Ataque</h2>
<p>¡Encontramos las credenciales del login! Ahora parece que tenmos acceso a una <code class="language-plaintext highlighter-rouge">web shell</code>, si introducimos <code class="language-plaintext highlighter-rouge">pwd</code> nos regresa:</p>

<p><img src="/assets/images/maquinas/pwd.png" alt="pwd" /></p>

<p>Por lo tanto, podemos utilizar este formulario para navegar por el sistema y encontrar los ingredientes necesarios. Hay que tener en cuenta que si utilizamos <code class="language-plaintext highlighter-rouge">cd</code>, no habrá un efecto en nuestra ruta actual, por lo que usaremos <strong>rutas absolutas</strong>.</p>

<h3 id="primer-ingrediente">Primer ingrediente</h3>
<p>Si hacemos un <code class="language-plaintext highlighter-rouge">ls</code>, vemos los archivos que están en el directorio del servidor web, y hay uno sospechoso con nombre <code class="language-plaintext highlighter-rouge">Sup3rS3cretPicl3Ingred.txt</code>. Veamos qué contiene.
Al parecer <code class="language-plaintext highlighter-rouge">cat</code>, <code class="language-plaintext highlighter-rouge">less</code>, <code class="language-plaintext highlighter-rouge">head</code> y otros comandos están siendo bloqueados en esta web shell, así que usaremos <code class="language-plaintext highlighter-rouge">nl</code> para ver el contenido.</p>

<p><img src="/assets/images/maquinas/first.png" alt="Firs Ingred" /></p>

<p>Así que, aquí tenemos el primero, veamos dónde están los otros. 
El archivo <code class="language-plaintext highlighter-rouge">clue.txt</code> nos dice que busquemos en todo el sistema, así que revisemos los directorios <code class="language-plaintext highlighter-rouge">home</code>.</p>

<h3 id="segundo-ingrediente">Segundo ingrediente</h3>
<p>El directorio <code class="language-plaintext highlighter-rouge">/home/rick</code> contiene un archivo llamado <code class="language-plaintext highlighter-rouge">second ingredients</code>, vaya, vaya…</p>

<p><img src="/assets/images/maquinas/second.png" alt="Second Ingred" /></p>

<p>Sólo nos falta uno, sigamos.</p>]]></content><author><name>Jimmy Mendoza</name></author><category term="maquina" /><category term="maquinas" /><category term="linux" /><category term="tryhackme" /><category term="easy_machine" /><category term="pentesting" /><summary type="html"><![CDATA[Máquina de Try Hack Me con temática de Rick & Morty]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Cheatsheet de Linux</title><link href="http://localhost:4000/linux-cheatsheet/" rel="alternate" type="text/html" title="Cheatsheet de Linux" /><published>2023-04-14T00:00:00+00:00</published><updated>2023-04-14T00:00:00+00:00</updated><id>http://localhost:4000/linux-cheatsheet</id><content type="html" xml:base="http://localhost:4000/linux-cheatsheet/"><![CDATA[<h1 id="comandos-en-linux">Comandos en Linux</h1>

<p>Sintaxis general de los comandos en Linux:</p>
<div class="language-shell-session highlighter-rouge"><div class="highlight"><pre class="chroma"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>comando <span class="nt">-opcion</span> argumentos
<span class="gp">$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-la</span> /etc/  <span class="c"># ejemplo </span>
<span class="gp">$</span><span class="w"> </span><span class="nb">ls</span> /etc/ <span class="nt">-la</span>  <span class="c"># tambien es posible. menos comun</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />
<h2 id="buscar-archivos">Buscar archivos</h2>

<table>
  <thead>
    <tr>
      <th>Descripción</th>
      <th>Comando</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Busca un archivo en todo el sistema, propiedad del usuario <strong>usuario7</strong> y del grupo <strong>grupo6</strong> con tamaño de 33 bytes</td>
      <td><code class="language-plaintext highlighter-rouge">find / -type f -size 33c -user usuario7 -group grupo6 2&gt;/dev/null</code></td>
    </tr>
    <tr>
      <td>Busca un archivo en el directorio actual, sin permisos de ejecución, con tamaño de 1033 bytes y muestra su contenido</td>
      <td><code class="language-plaintext highlighter-rouge">find ./ -type f ! -executable -size 1033c -exec cat {} \;</code></td>
    </tr>
  </tbody>
</table>

<h2 id="manipulación-de-texto">Manipulación de texto</h2>

<h3 id="cambiar-posición-de-caractéres">Cambiar posición de caractéres</h3>

<table>
  <thead>
    <tr>
      <th>Descripción</th>
      <th>Comando</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Rota los caractéres 13 posiciones (cifra Caesar)</td>
      <td><code class="language-plaintext highlighter-rouge">cat &lt;file&gt; | tr [a-mn-zA-MN-Z] [n-za-mN-ZA-M]</code></td>
    </tr>
  </tbody>
</table>

<h3 id="eliminar-palabras">Eliminar palabras</h3>

<table>
  <thead>
    <tr>
      <th>Descripción</th>
      <th>Comando</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Elimina palabras de menos de <em>x</em> caractéres</td>
      <td><code class="language-plaintext highlighter-rouge">sed -r '/^.{,&lt;x&gt;}$/d' &lt;archivo&gt;</code></td>
    </tr>
    <tr>
      <td>Elimina palabras sin caractéres especiales</td>
      <td><code class="language-plaintext highlighter-rouge">sed -r '/[!-/:-@\[-\{-~]+/!d' &lt;archivo&gt;</code></td>
    </tr>
    <tr>
      <td>Elimina palabras sin números</td>
      <td><code class="language-plaintext highlighter-rouge">sed -ri '/[0-9]+/!d' &lt;archivo&gt;</code></td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="administración-de-usuarios-y-grupos">Administración de usuarios y grupos</h2>
<p>Los siguientes comandos se ejecutan con <code class="language-plaintext highlighter-rouge">sudo</code> o con usuario <code class="language-plaintext highlighter-rouge">root</code>.</p>

<h3 id="usuarios">Usuarios</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Crear</td>
      <td><code class="language-plaintext highlighter-rouge">useradd -m -shell &lt;/ruta/ala/shell&gt; &lt;nombre&gt;</code></td>
      <td>Crea un nuevo usuario con su directorio home y se especifica su shell por default</td>
    </tr>
    <tr>
      <td>Cambiar contraseña</td>
      <td><code class="language-plaintext highlighter-rouge">passwd &lt;usuario&gt;</code></td>
      <td>Cambia/establece la contraseña para el usuario especificado</td>
    </tr>
    <tr>
      <td>Eliminar</td>
      <td><code class="language-plaintext highlighter-rouge">userdel &lt;usuario&gt;</code></td>
      <td>Elimina el usuario especificado</td>
    </tr>
  </tbody>
</table>

<h3 id="grupos">Grupos</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Crear</td>
      <td><code class="language-plaintext highlighter-rouge">groupadd &lt;nombre&gt;</code></td>
      <td>Crea un grupo con el nombre especificado</td>
    </tr>
    <tr>
      <td>Agregar usuarios</td>
      <td><code class="language-plaintext highlighter-rouge">usermod -aG &lt;grupo&gt; &lt;usuario&gt;</code></td>
      <td>Agrega el usuario al grupo especificado</td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="iptables">iptables</h2>
<p>Los siguientes comandos se ejecutan con <code class="language-plaintext highlighter-rouge">sudo</code> o con usuario <code class="language-plaintext highlighter-rouge">root</code>.</p>
<h3 id="filter-table">Filter Table</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Política de entrada</td>
      <td><code class="language-plaintext highlighter-rouge">iptables --policy INPUT &lt;ACCEPT/DROP&gt;</code></td>
      <td>Establece la política de entrada a aceptar/rechazar</td>
    </tr>
    <tr>
      <td>Filtrar por ip</td>
      <td><code class="language-plaintext highlighter-rouge">iptables -I INPUT -s &lt;ip&gt; -j DROP</code></td>
      <td>Rechaza la conexión proveniente de la ip especificada</td>
    </tr>
    <tr>
      <td> </td>
      <td><code class="language-plaintext highlighter-rouge">iptables -I OUTPUT -d &lt;ip&gt; -j DROP</code></td>
      <td>Rechaza las conexiones a la ip especificada</td>
    </tr>
    <tr>
      <td>Filtrar por puerto</td>
      <td><code class="language-plaintext highlighter-rouge">iptables -I INPUT -p tcp --dport 80 -j DROP</code></td>
      <td>Rechaza las conexiones <code class="language-plaintext highlighter-rouge">tcp</code> al puerto 80</td>
    </tr>
    <tr>
      <td>Listar cadenas</td>
      <td><code class="language-plaintext highlighter-rouge">iptables -L --line-numbers</code></td>
      <td>Lista las cadenas con numeración</td>
    </tr>
    <tr>
      <td>Eliminar cadena</td>
      <td><code class="language-plaintext highlighter-rouge">iptables -D INPUT &lt;n&gt;</code></td>
      <td>Elimina la cadena especificada</td>
    </tr>
  </tbody>
</table>]]></content><author><name>Jimmy Mendoza</name></author><category term="[&quot;cheatsheet&quot;, &quot;linux&quot;]" /><category term="linux" /><category term="cheatsheet" /><category term="comandos" /><summary type="html"><![CDATA[Mi recopilación de comandos para el uso de Linux.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Cheatsheet de MariaDB</title><link href="http://localhost:4000/sql-cheatsheet/" rel="alternate" type="text/html" title="Cheatsheet de MariaDB" /><published>2023-04-14T00:00:00+00:00</published><updated>2023-04-14T00:00:00+00:00</updated><id>http://localhost:4000/sql-cheatsheet</id><content type="html" xml:base="http://localhost:4000/sql-cheatsheet/"><![CDATA[<h1 id="mariadb">MariaDB</h1>

<hr />
<h2 id="base-de-datos">Base de datos</h2>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Crear</td>
      <td><code class="language-plaintext highlighter-rouge">CREATE DATABASE nombre_db;</code></td>
    </tr>
    <tr>
      <td>Eliminar</td>
      <td><code class="language-plaintext highlighter-rouge">DROP DATABASE nombre_db;</code></td>
    </tr>
    <tr>
      <td>Listar</td>
      <td><code class="language-plaintext highlighter-rouge">SHOW DATABASES;</code></td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="tablas">Tablas</h2>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Crear tabla</td>
      <td><code class="language-plaintext highlighter-rouge">CREATE TABLE nombre_tabla(columna1 INT(5) AUTO_INCREMENT PRIMARY KEY NOT NULL, columna2 VARCHAR(20) NOT NULL DEFAULT "x", columna3 DATE);</code></td>
      <td>Crea una tabla con tres columnas con sus respectivos tipos de datos</td>
    </tr>
    <tr>
      <td>Eliminar tabla</td>
      <td><code class="language-plaintext highlighter-rouge">DROP TABLE nombre_tabla;</code></td>
      <td>Elimina la tabla especificada</td>
    </tr>
    <tr>
      <td>Listar</td>
      <td><code class="language-plaintext highlighter-rouge">SHOW TABLES;</code></td>
      <td>Lista todas las tablas de la base de datos</td>
    </tr>
  </tbody>
</table>

<h3 id="modificar">Modificar</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Agregar columna</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla ADD COLUMN nueva_columna DECIMAL(6,2) NOT NULL AFTER columna2;</code></td>
      <td>Agrega una nueva columna especificando su tipo de dato después de cierta columna</td>
    </tr>
    <tr>
      <td>Cambiar tipo de columna</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla MODIFY columna VARCHAR(20) NOT NULL UNIQUE;</code></td>
      <td>Altera el tipo de dato que almacena la columna</td>
    </tr>
    <tr>
      <td>Cambiar nombre de columna</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla CHANGE COLUMN nombre nuevo_nombre DECIMAL(6,2) NOT NULL;</code></td>
      <td>Cambia el nombre de una columna a la vez que se especifica su tipo de dato</td>
    </tr>
  </tbody>
</table>

<h3 id="llaves">Llaves</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Agregar PK</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla ADD PRIMARY KEY(columna);</code></td>
      <td>Establece como llave primaria una columna de la tabla</td>
    </tr>
    <tr>
      <td>Eliminar PK</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla DROP PRIMARY KEY;</code></td>
      <td>Elimina la llave primaria de una tabla</td>
    </tr>
    <tr>
      <td>Agregar FK</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla ADD CONSTRAINT FOREIGN KEY(columna) REFERENCES tabla2(col_pk);</code></td>
      <td>Establece una llave foránea que referencia a la llave primaria de otra tabla</td>
    </tr>
    <tr>
      <td>Eliminar FK</td>
      <td><code class="language-plaintext highlighter-rouge">ALTER TABLE nombre_tabla DROP FOREIGN KEY col_fk;</code></td>
      <td>Elimina la llave foránea de una columna</td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="registros">Registros</h2>

<h3 id="mostrar">Mostrar</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Mostrar todos</td>
      <td><code class="language-plaintext highlighter-rouge">SELECT * FROM nombre_tabla;</code></td>
      <td>Muestra todos los registros de la tabla especificada</td>
    </tr>
    <tr>
      <td>Mostrar algunas columnas</td>
      <td><code class="language-plaintext highlighter-rouge">SELECT col1, col2, col3 FROM nombre_tabla;</code></td>
      <td>Muestra todos los registros de las columnas especificadas</td>
    </tr>
    <tr>
      <td>Filtrar</td>
      <td><code class="language-plaintext highlighter-rouge">SELECT * FROM nombre_tabla WHERE columna = "xxx";</code></td>
      <td>Muestra los registros donde <code class="language-plaintext highlighter-rouge">columna</code> tenga valor <code class="language-plaintext highlighter-rouge">xxx</code></td>
    </tr>
    <tr>
      <td>Ordenar</td>
      <td><code class="language-plaintext highlighter-rouge">SELECT col1, col2 FROM nombre_tabla ORDER BY col2 ASC LIMIT 0,20;</code></td>
      <td>Muestra los 20 registros de las columnas especificadas, ordenando en formato ascendente la columna 2</td>
    </tr>
    <tr>
      <td>Agrupar</td>
      <td><code class="language-plaintext highlighter-rouge">SELECT * FROM nombre_tabla GROUP BY columna;</code></td>
      <td>Muestra los registros agrupados por la columna especificada</td>
    </tr>
  </tbody>
</table>

<h3 id="actualizar-y-borrar">Actualizar y borrar</h3>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Actualizar</td>
      <td><code class="language-plaintext highlighter-rouge">UPDATE nombre_tabla SET col1 = "xxx" col2 = "yyy", WHERE col3 = "zzz";</code></td>
      <td>Actualiza los registros que coincidan con la cláusula <code class="language-plaintext highlighter-rouge">WHERE</code>, <strong>si no se utiliza <code class="language-plaintext highlighter-rouge">WHERE</code> se actualizará toda la tabla</strong></td>
    </tr>
    <tr>
      <td>Borrar</td>
      <td><code class="language-plaintext highlighter-rouge">DELETE FROM nombre_tabla WHERE identifier = "xxx";</code></td>
      <td>Borra los registros que coincidan con la condición, al igual que <code class="language-plaintext highlighter-rouge">UPDATE</code> <strong>si no se usa <code class="language-plaintext highlighter-rouge">WHERE</code> se eliminarán todos los registros de la tabla</strong></td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="importar--exportar">Importar / Exportar</h2>
<p><strong>Los siguientes comandos se ejecutan desde la terminal del usuario.</strong></p>

<table>
  <thead>
    <tr>
      <th>Acción</th>
      <th>Comando</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Importar</td>
      <td><code class="language-plaintext highlighter-rouge">mariadb -u usuario -p nombre_bd &lt; script.mysql</code></td>
      <td>Importa el contenido del script en la bd especificada</td>
    </tr>
    <tr>
      <td>Exportar</td>
      <td><code class="language-plaintext highlighter-rouge">mysqldump -u usuario -p nombre_bd &gt; bd.mysql</code></td>
      <td>Exporta el contenido de una bd a un script</td>
    </tr>
  </tbody>
</table>]]></content><author><name>Jimmy Mendoza</name></author><category term="cheatsheet" /><category term="sql" /><category term="cheatsheet" /><category term="comandos" /><category term="bd" /><summary type="html"><![CDATA[Mi recopilación de comandos para usar mariadb o mysql desde la terminal.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">1x1 Hello Friend</title><link href="http://localhost:4000/1x1-hello-friend/" rel="alternate" type="text/html" title="1x1 Hello Friend" /><published>2023-04-12T00:00:00+00:00</published><updated>2023-04-12T00:00:00+00:00</updated><id>http://localhost:4000/1x1-hello-friend</id><content type="html" xml:base="http://localhost:4000/1x1-hello-friend/"><![CDATA[<h1 id="hello-friend">Hello Friend</h1>

<h2 id="el-café-de-ron">El café de Ron</h2>
<h3 id="conexión-de-fibra-óptica">Conexión de fibra óptica</h3>
<p>Esta escena es una de mis favoritas, Elliot está en <em>El Café de Ron</em>, entra Ron, el dueño del local, y Elliot lo confronta. Primero le dice que la razón que va ahí es porque el Wi-Fi es rápido, tiene <strong>conexión de fibra óptica con velocidades gigabit</strong>.</p>

<p>En el presente muchas de nuestras casas ya cuentan con conexión de fibra óptica, pero para el año en el que salió la serie (2015), la fibra óptica aún era una novedad. Justo esto fue lo que le pareció extraño a Elliot, por lo que procedió a interceptar el tráfico de la red.</p>

<h3 id="interceptar-el-tráfico-de-la-red">Interceptar el tráfico de la red</h3>
<p>La serie no dice con qué herramienta Elliot hizo esto, pero algunas de las herramientas que se pueden usar para este fin son <code class="language-plaintext highlighter-rouge">wireshark</code> y <code class="language-plaintext highlighter-rouge">tcpdump</code>. Este proceso consiste en estar conectado a una red y con una de las herramientas mencionadas empezar a <em>escuchar</em> las comunicaciones que viajan por esa red. Es como si estando en un parque te enfocas en las dos personas que están sentadas conversando y agudizas tu oído para captar todo lo que están diciendo.</p>

<p>Interceptar/escuchar el tráfico de una red nos da la oportunidad de verificar que la red está en buenas condiciones, notar tráfico inusual o, incluso, espiar.</p>

<p>A continuación, Elliot dice que decidió <em>hackear</em> a Ron, no se especifica qué hizo exactamente, pero es probable que con el análisis del tráfico de la red diera con el sitio que Ron estaba operando, <em>Los chicos de Plato</em>, ingresara (de alguna forma) como administrador y copiara todo el contenido del sitio como evidencia, incluso los correos.</p>

<h3 id="servidores">Servidores</h3>
<p>Un servidor es una computadora dedicada a proveer <em>recursos</em> a otras computadoras. El tipo de servidor que se menciona aquí es un <strong>servidor web</strong>, el cual provee el contenido de Los chicos de Plato. Si el servidor es cerrado y borrado, este sitio y todo su contenido dejan de existir.</p>

<p>La razón de que Elliot haya confrontado a Ron es porque si lo hacía de manera remota, había la posibilidad que Ron huyera y cerrara los servidores de su sitio.</p>

<h3 id="red-tor">Red Tor</h3>
<p>Tor es una <a href="../la-red-mas-simple#Red">red</a> que funciona de forma especial: está enfocada a <strong>anonimizar a sus usuarios</strong>. Quienes se conectan a esta red quieren dificultar el proceso de ser identificados. La <a href="https://www.youtube.com/watch?v=79m7mX3rC8Q">red Tor</a> utiliza el protocolo <code class="language-plaintext highlighter-rouge">onion</code> para lograr enmascarar a sus usuarios.</p>

<p><img src="/assets/images/posts/red_tor.png" alt="Red Tor" /></p>

<h4 id="protocolo-onion">Protocolo onion</h4>
<p>Este protocolo trabaja por capas (por eso el <em>onion</em>), con estas capas logra ofuscar la identificación de los usuarios y encriptar sus comunicaciones.</p>

<p>Pese a todo esto, como Elliot dice: <em>la red Tor no es tan anónima como crees</em>. Vamos, no es una herramienta mágica que te hace invisible, aún en su diseño tiene algunos puntos débiles. Si alguien analiza el tamaño de los mensajes y la frecuencia de la comunicación entre el usuario y en nodo de entrada, y aparte tiene acceso al nodo de salida, donde las comunicaciones ya no están encriptadas por la red Tor, es posible conocer el tráfico del usuario (justo lo que conocía Elliot).</p>

<h3 id="en-resumen">En resumen…</h3>
<p>Resumiendo lo que Elliot hizo en esta escena:</p>
<ol>
  <li>Le gustaba la velocidad de la red del café</li>
  <li>Notó tráfico raro</li>
  <li>Capturó y analizó el tráfico de la red</li>
  <li>Encontró el nodo de salida de la red Tor y descubrió sus servidores de Ron</li>
  <li>Ingresó a los servidores de Los chicos de Plato</li>
  <li>Descargó todo su contenido y correos</li>
  <li>Hizo una denuncia y confrontó a Ron en lo que llegaba el FBI</li>
</ol>

<p><img src="/assets/images/posts/ron's_coffee.png" alt="El café de Ron" /></p>

<hr />

<h2 id="allsafe">Allsafe</h2>

<h3 id="log-file">Log file</h3>
<p>Los <code class="language-plaintext highlighter-rouge">log files</code> son archivos en lo que se lleva un registro de todas las acciones realizadas en un sistema. Este tipo de archivos son muy importantes para los administradores del sistema porque cuando ocurre un ataque o una brecha de seguridad, analizar los log files puede dar pistas de cómo ocurrió dicho ataque.</p>

<p>Mirando el log file del servidor Elliot pudo determinar que el ataque que sufrieron fue un ataque <a href="https://www.cloudflare.com/learning/ddos/ddos-attack-tools/r-u-dead-yet-rudy/"><code class="language-plaintext highlighter-rouge">RUDY</code></a>.</p>

<h3 id="rudy-attack">RUDY attack</h3>
<p><strong>R U Dead Yet?</strong> (¿ya estás muerto?) es un ataque de tipo DoS (abajo explicado), el cual explota servidores que reciben información de formularios a través de enviar respuestas muy largas de forma muy lenta. El servidor tiene que esperar a que llegue toda la respuesta, por lo que estará siendo realentizado y no podrá atender a otros usuarios de forma efectiva. Es como si al pagar en la caja del supermercado la cuenta fuera de $1,000, y tú ingresaras una moneda de $1 cada diez segundos.</p>

<h4 id="ataque-dos">Ataque DoS</h4>
<p>Los ataques de <em>Denegación de Servicio</em> (Denial of Service) son ataques que son muy comunes en la actualidad. Su propósito principal es <strong>impactar negativamente en el desempeño de un servidor</strong> para hacerlo lento, impedir que usuarios legítimos accedan a él y, en casos extremos, dejarlo inoperativo.</p>

<p>El ataque RUDY es un ejemplo de ataque DoS porque su meta es ocupar al servidor con peticiones lentas e inutiles, sin embargo hay más formas de ataques DoS, uno de los más comunes es el <a href="./#ataque-ddos"><code class="language-plaintext highlighter-rouge">DDoS</code></a>.</p>

<hr />
<h2 id="la-oficina-de-krysta">La oficina de Krysta</h2>

<h3 id="ataque-de-fuerza-bruta">Ataque de fuerza bruta</h3>
<p>Cuando conocemos por primera vez a Krysta sabemos que Elliot tiene acceso a sus cuentas de redes sociales y de correo, ¿cómo logró esto? Pues, al parecer utilizó una herramienta para hacerle fuerza bruta a sus cuentas. De hecho, en otras escenas podemos ver que se llama <code class="language-plaintext highlighter-rouge">elpscrk</code> (¿elliot-password-crack?) y la utiliza para obtener las contraseñas de Ollie y del novio de Krysta. Éste método de obtener contraseñas es conocido como <strong>ataque de fuerza bruta</strong> y consiste en probar miles e incluso millones de posibilidades hasta encontrar la correcta.</p>

<p>Esta herramienta funciona recibiendo una lista de palabras (<code class="language-plaintext highlighter-rouge">wordlist</code>), que son las posibles contraseñas para el usuario de Krysta, la wordlist que utiliza Elliot contiene 9,875,894 posibles contraseñas, la contraseña correcta la encuentra en 24 segundos.</p>

<p>En la actualidad este ataque ya no es tan fácil de hacer para sitios online, porque los <code class="language-plaintext highlighter-rouge">firewalls</code> detectan el ataque y lo bloquean, sin embargo aún es útil con distintos enfoques. Y también agregar que, en la vida real este tipo de ataques requieren de un gran poder de procesamiento y generalmente toman horas en llevarse a cabo.</p>

<h4 id="wordlist">Wordlist</h4>
<p>Una wordlist consiste en una lista de posibles credenciales (generalmente) con las que se intentará probar acceder a un sistema. Estas wordlists se pueden encontrar en línea recopiladas de bases de datos filtradas en el pasado como las SecLists, pero también se pueden <strong>crear especialmente para un objetivo</strong>, como lo hace Elliot para el novio de Krysta. Para ello hay que conocer ciertos datos de nuestro objetivo y con herramientas como <code class="language-plaintext highlighter-rouge">hydra</code> se pueden generar permutaciones de estas palabras, obteniendo una wordlist gigantesca si es necesario.</p>

<p><img src="/assets/images/posts/elpscrk.png" alt="elpscrk" /></p>

<hr />
<h2 id="ejecutivos-de-e-corp">Ejecutivos de E-Corp</h2>

<h3 id="linux">Linux</h3>
<p>Cuando los ejecutivos de E-Corp visitan Allsafe, <strong>Tyrell Wellick</strong> le dice a Elliot que al igual que él, también <strong>utiliza Linux</strong>. Y como Linux es generalmente utilizado por personas con un conocimiento más avanzado, es sorpresa para Elliot.</p>

<p>Linux es un sistema opertativo que a diferencia de Windows es de código abierto y gratuito, esto lo hace altamente configurable y adaptable, por ello existen muchas variaciones de Linux. <strong>Kali Linux y Parrot OS</strong> son dos <em>versiones</em> de este sistema operativo y están pensado específicamente para <strong>hacking y pentesting</strong>. De hecho, en la serie Elliot utiliza Kali para sus ataques.</p>

<h4 id="gnome-y-kde">Gnome y KDE</h4>
<p>También Wellick menciona <em>Gnome</em> y <em>KDE</em>, éstos son dos entornos de escritorio muy populares en Linux, básicamente lo que hacen es darle una apariencia común a las ventanas, íconos y más en el sistema operativo. Wellick es más de KDE y, a decir verdad, yo también.</p>

<table>
  <thead>
    <tr>
      <th>Ventanas de Gnome</th>
      <th>Ventanas de KDE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://i.stack.imgur.com/YovBy.jpg" alt="gnome" /></td>
      <td><img src="https://news-cdn.softpedia.com/images/news2/beautify-your-kde-plasma-5-desktop-environment-with-freshly-ported-adapta-theme-517792-2.jpg" alt="kde" /></td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="ataque-a-allsafe">Ataque a Allsafe</h2>

<h3 id="ataque-ddos">Ataque DDoS</h3>
<p>Los ataques <a href="./#ataque-dos"><code class="language-plaintext highlighter-rouge">DoS</code></a> son efectivos pero también son fáciles de detectar y bloquear por los <code class="language-plaintext highlighter-rouge">firewalls</code> de los servidores, si se detectan patrones de denegación de servicio proviniendo de una cierta dirección <code class="language-plaintext highlighter-rouge">IP</code>, se bloquea esa dirección y problema solucionado.
Por este motivo los atacantes han ideado ataques más complejos y más efectivos. El <strong>Distributed Denial of Service</strong> (Denegación de Servicio Distribuido) es la evolución de DoS. Con este ataque se utilizan <strong>miles o millones de dispositivos</strong> para hacer peticiones a servidores, saturandolos con tanto tráfico. De esta forma un firewall ya no es tan efectivo para diferenciar entre un atacante y un usuario legítimo que trata de utilizar el servidor.</p>

<p>Para conocer más sobre los ataques DDoS y ver un caso real, mira el siguiente <a href="https://youtu.be/_IPeU2upbaw">vídeo</a>.</p>

<p><img src="/assets/images/posts/rebooting_server.png" alt="Reinicio del servidor" />
La versión</p>

<ul>
  <li>DDoS attack
    <ul>
      <li>Reconfigure DNS</li>
      <li>Reboot the servers</li>
      <li>They are inside the network</li>
      <li>Security protocols</li>
      <li>Load sharing</li>
      <li>Redirect traffic</li>
    </ul>
  </li>
  <li>Rootkit
    <ul>
      <li>Serverfarm</li>
      <li>Backup server</li>
      <li>Autoswitch</li>
      <li>Switch DNS</li>
    </ul>
  </li>
</ul>]]></content><author><name>Jimmy Mendoza</name></author><category term="mr_robot" /><category term="series" /><summary type="html"><![CDATA[En este episodio conocemos a Elliot]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/" /><media:content medium="image" url="http://localhost:4000/" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>