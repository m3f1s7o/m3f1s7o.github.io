 [
        
        {
            "categories": ["maquina"],
            "content": "Pickle RickEnlace: https://tryhackme.com/room/picklerickInstrucciones:Este reto con tema de Rick y Morty requiere que explotes un servidor web para encontrar 3 ingredientes que ayudarán a Rick a hacer su poción para transformarse de nuevo en humano de su forma de pepinillo.Una vez que nos hayamos conectado a través de VPN a la máquina empezaremos con la fase de reconocimiento.ReconocimientonmapLo primero que haremos es ejecutar nmap para descubrir los puertos del sistema objetivo:1$ nmap -n -Pn &lt;ip&gt; Vemos que hay dos puertos abiertos, empezaremos por revisar el servidor web del puerto 80 (las instrucciones nos mencionaban un servidor web).Servidor webLa página principal nos da a entender que habrá un login, pero al parecer tendremos que encontrar las credenciales por nuestra cuenta.Ver este servidor web me dio ganas de utilizar gobuster.gobusterVamos a enumerar los directorios web de este servidor con la wordlist /dirb/common.txt, quizá nos encontremos algo interesante.1$ gobuster dir -w /usr/share/wordlists/dirb/common.txt -u http://&lt;ip&gt;Los páginas disponibles (status: 200) son:  index.html  robots.txt  login.phpEfectivamente hay un login, pero aún necesitamos un usuario y contraseña, tal vez el contenido de robots.txt sea una de las dos:No nos quedan más páginas para analizar, pero tal vez revisando el código fuente nos sea útil, veamos el de login.php:Podemos ver que Rick utilizó un comentario para guardar su usuario, por lo tanto, el texto que encontramos en robots.txt puede que sea nuestra contraseña, intentemos con eso.Ataque¡Encontramos las credenciales del login! Ahora parece que tenmos acceso a una web shell, si introducimos pwd nos regresa:Por lo tanto, podemos utilizar este formulario para navegar por el sistema y encontrar los ingredientes necesarios. Hay que tener en cuenta que si utilizamos cd, no habrá un efecto en nuestra ruta actual, por lo que usaremos rutas absolutas.Primer ingredienteSi hacemos un ls, vemos los archivos que están en el directorio del servidor web, y hay uno sospechoso con nombre Sup3rS3cretPicl3Ingred.txt. Veamos qué contiene.Al parecer cat, less, head y otros comandos están siendo bloqueados en esta web shell, así que usaremos nl para ver el contenido.Así que, aquí tenemos el primero, veamos dónde están los otros. El archivo clue.txt nos dice que busquemos en todo el sistema, así que revisemos los directorios home.Segundo ingredienteEl directorio /home/rick contiene un archivo llamado second ingredients, vaya, vaya…Sólo nos falta uno, sigamos.",
            "date": "2023-04-16T00:00:00+00:00",
            "objectID": "http://localhost:4000/pickle-rick/",
            "id": "http://localhost:4000/pickle-rick/",
            "tags": ["maquina"],
            "title": "Pickle Rick",
            "uri": "/pickle-rick/"
        },
        
        {
            "categories": ["cheatsheet"],
            "content": "MariaDBBase de datos            Acción      Comando                  Crear      CREATE DATABASE nombre_db;              Eliminar      DROP DATABASE nombre_db;              Listar      SHOW DATABASES;      Tablas            Acción      Comando      Descripción                  Crear tabla      CREATE TABLE nombre_tabla(columna1 INT(5) AUTO_INCREMENT PRIMARY KEY NOT NULL, columna2 VARCHAR(20) NOT NULL DEFAULT \"x\", columna3 DATE);      Crea una tabla con tres columnas con sus respectivos tipos de datos              Eliminar tabla      DROP TABLE nombre_tabla;      Elimina la tabla especificada              Listar      SHOW TABLES;      Lista todas las tablas de la base de datos      Modificar            Acción      Comando      Descripción                  Agregar columna      ALTER TABLE nombre_tabla ADD COLUMN nueva_columna DECIMAL(6,2) NOT NULL AFTER columna2;      Agrega una nueva columna especificando su tipo de dato después de cierta columna              Cambiar tipo de columna      ALTER TABLE nombre_tabla MODIFY columna VARCHAR(20) NOT NULL UNIQUE;      Altera el tipo de dato que almacena la columna              Cambiar nombre de columna      ALTER TABLE nombre_tabla CHANGE COLUMN nombre nuevo_nombre DECIMAL(6,2) NOT NULL;      Cambia el nombre de una columna a la vez que se especifica su tipo de dato      Llaves            Acción      Comando      Descripción                  Agregar PK      ALTER TABLE nombre_tabla ADD PRIMARY KEY(columna);      Establece como llave primaria una columna de la tabla              Eliminar PK      ALTER TABLE nombre_tabla DROP PRIMARY KEY;      Elimina la llave primaria de una tabla              Agregar FK      ALTER TABLE nombre_tabla ADD CONSTRAINT FOREIGN KEY(columna) REFERENCES tabla2(col_pk);      Establece una llave foránea que referencia a la llave primaria de otra tabla              Eliminar FK      ALTER TABLE nombre_tabla DROP FOREIGN KEY col_fk;      Elimina la llave foránea de una columna      RegistrosMostrar            Acción      Comando      Descripción                  Mostrar todos      SELECT * FROM nombre_tabla;      Muestra todos los registros de la tabla especificada              Mostrar algunas columnas      SELECT col1, col2, col3 FROM nombre_tabla;      Muestra todos los registros de las columnas especificadas              Filtrar      SELECT * FROM nombre_tabla WHERE columna = \"xxx\";      Muestra los registros donde columna tenga valor xxx              Ordenar      SELECT col1, col2 FROM nombre_tabla ORDER BY col2 ASC LIMIT 0,20;      Muestra los 20 registros de las columnas especificadas, ordenando en formato ascendente la columna 2              Agrupar      SELECT * FROM nombre_tabla GROUP BY columna;      Muestra los registros agrupados por la columna especificada      Actualizar y borrar            Acción      Comando      Descripción                  Actualizar      UPDATE nombre_tabla SET col1 = \"xxx\" col2 = \"yyy\", WHERE col3 = \"zzz\";      Actualiza los registros que coincidan con la cláusula WHERE, si no se utiliza WHERE se actualizará toda la tabla              Borrar      DELETE FROM nombre_tabla WHERE identifier = \"xxx\";      Borra los registros que coincidan con la condición, al igual que UPDATE si no se usa WHERE se eliminarán todos los registros de la tabla      Importar / ExportarLos siguientes comandos se ejecutan desde la terminal del usuario.            Acción      Comando      Descripción                  Importar      mariadb -u usuario -p nombre_bd &lt; script.mysql      Importa el contenido del script en la bd especificada              Exportar      mysqldump -u usuario -p nombre_bd &gt; bd.mysql      Exporta el contenido de una bd a un script      ",
            "date": "2023-04-14T00:00:00+00:00",
            "objectID": "http://localhost:4000/sql-cheatsheet/",
            "id": "http://localhost:4000/sql-cheatsheet/",
            "tags": ["cheatsheet"],
            "title": "Cheatsheet de MariaDB",
            "uri": "/sql-cheatsheet/"
        },
        
        {
            "categories": ["cheatsheet"],
            "content": "Comandos en LinuxSintaxis general de los comandos en Linux:123$ comando -opcion argumentos$ ls -la /etc/  # ejemplo $ ls /etc/ -la  # tambien es posible. menos comunBuscar archivos            Descripción      Comando                  Busca un archivo en todo el sistema, propiedad del usuario usuario7 y del grupo grupo6 con tamaño de 33 bytes      find / -type f -size 33c -user usuario7 -group grupo6 2&gt;/dev/null              Busca un archivo en el directorio actual, sin permisos de ejecución, con tamaño de 1033 bytes y muestra su contenido      find ./ -type f ! -executable -size 1033c -exec cat {} \\;      Manipulación de textoCambiar posición de caractéres            Descripción      Comando                  Rota los caractéres 13 posiciones (cifra Caesar)      cat &lt;file&gt; | tr [a-mn-zA-MN-Z] [n-za-mN-ZA-M]      Eliminar palabras            Descripción      Comando                  Elimina palabras de menos de x caractéres      sed -r '/^.{,&lt;x&gt;}$/d' &lt;archivo&gt;              Elimina palabras sin caractéres especiales      sed -r '/[!-/:-@\\[-\\{-~]+/!d' &lt;archivo&gt;              Elimina palabras sin números      sed -ri '/[0-9]+/!d' &lt;archivo&gt;      Administración de usuarios y gruposLos siguientes comandos se ejecutan con sudo o con usuario root.Usuarios            Acción      Comando      Descripción                  Crear      useradd -m -shell &lt;/ruta/ala/shell&gt; &lt;nombre&gt;      Crea un nuevo usuario con su directorio home y se especifica su shell por default              Cambiar contraseña      passwd &lt;usuario&gt;      Cambia/establece la contraseña para el usuario especificado              Eliminar      userdel &lt;usuario&gt;      Elimina el usuario especificado      Grupos            Acción      Comando      Descripción                  Crear      groupadd &lt;nombre&gt;      Crea un grupo con el nombre especificado              Agregar usuarios      usermod -aG &lt;grupo&gt; &lt;usuario&gt;      Agrega el usuario al grupo especificado      iptablesLos siguientes comandos se ejecutan con sudo o con usuario root.Filter Table            Acción      Comando      Descripción                  Política de entrada      iptables --policy INPUT &lt;ACCEPT/DROP&gt;      Establece la política de entrada a aceptar/rechazar              Filtrar por ip      iptables -I INPUT -s &lt;ip&gt; -j DROP      Rechaza la conexión proveniente de la ip especificada                     iptables -I OUTPUT -d &lt;ip&gt; -j DROP      Rechaza las conexiones a la ip especificada              Filtrar por puerto      iptables -I INPUT -p tcp --dport 80 -j DROP      Rechaza las conexiones tcp al puerto 80              Listar cadenas      iptables -L --line-numbers      Lista las cadenas con numeración              Eliminar cadena      iptables -D INPUT &lt;n&gt;      Elimina la cadena especificada      ",
            "date": "2023-04-14T00:00:00+00:00",
            "objectID": "http://localhost:4000/linux-cheatsheet/",
            "id": "http://localhost:4000/linux-cheatsheet/",
            "tags": ["cheatsheet"],
            "title": "Cheatsheet de Linux",
            "uri": "/linux-cheatsheet/"
        },
        
        {
            "categories": ["mr_robot"],
            "content": "Hello FriendRon’s coffee  Fiber connection with gigabit speed  Intercept the traffic of the network  Elliot decided to Hack ronnie  Tor network to keep the servers anonymous          onion routing protocol      Whoever is in control of the exit node is also in control of the traffic      AllsafeConcepts  Log file  RUDY attackKrysta office  elpscrk (bruteforce). Utiliza la misma herramienta con Ollie y con el novio de Krysta",
            "date": "2023-04-12T00:00:00+00:00",
            "objectID": "http://localhost:4000/1x1-hello-friend/",
            "id": "http://localhost:4000/1x1-hello-friend/",
            "tags": ["mr_robot"],
            "title": "1x1 Hello Friend",
            "uri": "/1x1-hello-friend/"
        }
        
    ]






